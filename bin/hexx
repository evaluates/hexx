#!/usr/bin/env ruby

# Loads the development dependencies
require "hexx-dependencies"
require "hexx-validators"
require "policy/cli"

# Command line runner
class CLI < Thor

  register(
    Hexx::Dependencies::CLI,
    "dependency",
    "dependency[ NAME][ -g gemname][ -i Injection]",
    "Scaffolds a custom dependency. Run `hexx dependency -h` for help."
  )

  register(
    Hexx::Validators::Generator,
    "validator",
    "validator NAME[ -e error[ error]][ -o option[ option]]",
    "Scaffolds a custom validator. Run `hexx validator -h` for help."
  )

  register(
    Policy::CLI,
    "policy",
    "policy NAME[ -a attribute[ attribute]][ -n namespace][ -l en ru]",
    "Scaffolds a policy object. Run `hexx policy -h` for help."
  )

end # class CLI

# Starts cli with arguments taken from a command line
CLI.start ARGV
